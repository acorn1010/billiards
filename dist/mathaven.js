"use strict";(self.webpackChunkbilliards=self.webpackChunkbilliards||[]).push([[893],{"./src/mathaven.ts":(t,i,e)=>{var o=e("./src/model/physics/claude/constants.ts");function s(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var n=new/*#__PURE__*/(function(){var t;function i(t,e,o,n){!function(t,i){if(!(t instanceof i))throw TypeError("Cannot call a class as a function")}(this,i),s(this,"P",0),s(this,"WzI",0),s(this,"vx",void 0),s(this,"vy",void 0),s(this,"ωx",void 0),s(this,"ωy",void 0),s(this,"ωz",void 0),s(this,"s",void 0),s(this,"φ",void 0),s(this,"sʹ",void 0),s(this,"φʹ",void 0),s(this,"history",[]),s(this,"iter",void 0),this.vx=t*Math.cos(e),this.vy=t*Math.sin(e),this.ωx=-n*Math.sin(e),this.ωy=n*Math.cos(e),this.ωz=o,this.updateSlipSpeedsAndAngles()}return t=[{key:"updateSlipSpeedsAndAngles",value:function(){this.s=Math.sqrt(Math.pow(this.vx+o.R*(this.ωy*o.Z3-this.ωz*o.o5),2)+Math.pow(-this.vy*o.Z3-o.R*this.ωx,2)),this.φ=Math.atan2(-this.vy*o.Z3-o.R*this.ωx,this.vx+o.R*(this.ωy*o.Z3-this.ωz*o.o5)),this.sʹ=Math.abs(this.vx-o.R*this.ωy),this.φʹ=this.vx-o.R*this.ωy>0?this.φ:Math.PI+this.φ}},{key:"compressionPhase",value:function(){var t=(1+o.ee)*o.M*this.vy/o.N;for(console.log(t);this.vy>0;)this.updateSingleStep(t)}},{key:"restitutionPhase",value:function(t){for(var i=(1+o.ee)*o.M*this.vy/o.N;this.WzI<t;)this.updateSingleStep(i)}},{key:"updateSingleStep",value:function(t){if(this.updateVelocity(t),this.updateAngularVelocity(t),this.updateWorkDone(t),this.history.push(function(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.forEach(function(i){s(t,i,e[i])})}return t}({},this)),console.log(this.vy),this.iter++>2e3)throw"Solution not found"}},{key:"updateVelocity",value:function(t){this.vx-=1/o.M*(o._m*Math.cos(this.φ)+o.oV*Math.cos(this.φʹ)*(o.Z3+o._m*Math.sin(this.φ)*o.o5))*t,this.vy-=1/o.M*(o.o5-o._m*o.Z3*Math.sin(this.φ)+o.oV*Math.sin(this.φʹ)*(o.Z3+o._m*Math.sin(this.φ)*o.o5))*t}},{key:"updateAngularVelocity",value:function(t){this.ωx+=-(5/(2*o.M*o.R))*(o._m*Math.sin(this.φ)+o.oV*Math.sin(this.φʹ)*(o.Z3+o._m*Math.sin(this.φ)*o.o5))*t,this.ωy+=-(5/(2*o.M*o.R))*(o._m*Math.cos(this.φ)*o.Z3-o.oV*Math.cos(this.φʹ)*(o.Z3+o._m*Math.sin(this.φ)*o.o5))*t,this.ωz+=5/(2*o.M*o.R)*(o._m*Math.cos(this.φ)*o.o5)*t}},{key:"updateWorkDone",value:function(t){var i=t/2*(this.vy+this.vy);this.WzI+=i,this.P+=t}},{key:"solve",value:function(){this.compressionPhase();var t=(1-o.ee*o.ee)*this.WzI;this.restitutionPhase(t)}}],function(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(i.prototype,t),i}())(2,Math.PI/4,3/o.R,4/o.R);try{n.solve()}catch(t){console.error(t)}var r={responsive:!0,showLink:!0,plotlyServerURL:"https://chart-studio.plotly.com"},h={legend:{font:{color:"#4D5663"},bgcolor:"#e5e6F9"},xaxis:{title:"impulse",tickfont:{color:"#4D5663"},gridcolor:"#E1E5ED",titlefont:{color:"#4D5663"},zerolinecolor:"#E1E5ED"},yaxis:{title:"value",tickfont:{color:"#4D5663"},zeroline:!1,gridcolor:"#E1E5ED",titlefont:{color:"#4D5663"},zerolinecolor:"#E1E5ED"},plot_bgcolor:"#F5F6F9",paper_bgcolor:"#F2F6F9"};function a(t){return"hsl(".concat(137.5*t%360,", ").concat(70,"%, ").concat(50,"%)")}function c(t,i,e,o){return{x:t,y:i,name:e,line:{color:o,width:1.3},mode:"lines",type:"scatter"}}var l=function(t){return n.history.map(t)},u=l(function(t){return t.P});window.Plotly.newPlot("mathaven-impulse",[c(u,l(function(t){return t.s}),"s",a(0)),c(u,l(function(t){return t.φ}),"φ",a(1)),c(u,l(function(t){return t.sʹ}),"s'",a(2)),c(u,l(function(t){return t.φʹ}),"φʹ",a(3))],h,r);var v=l(function(t){return t.P}).map(function(t,i){return i});window.Plotly.newPlot("mathaven-vel",[c(v,l(function(t){return t.vx}),"vx",a(0)),c(v,l(function(t){return t.vy}),"vy",a(1)),c(v,l(function(t){return t.ωx}),"ωx",a(2)),c(v,l(function(t){return t.ωy}),"ωy",a(3))],h,r)},"./src/model/physics/claude/constants.ts":(t,i,e)=>{e.d(i,{Hm:()=>a,M:()=>o,N:()=>v,R:()=>s,Z3:()=>c,_m:()=>h,ee:()=>n,o5:()=>u,oV:()=>r,ye:()=>l});var o=.1406,s=.02625,n=.98,r=.212,h=.14,a=.4,c=.4,l=Math.sqrt(21)/5,u=l,v=1e3}},t=>{t(t.s="./src/mathaven.ts")}]);