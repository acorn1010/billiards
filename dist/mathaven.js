"use strict";(self.webpackChunkbilliards=self.webpackChunkbilliards||[]).push([[893],{"./src/mathaven.ts":(t,i,e)=>{var s=e("./src/model/physics/claude/constants.ts");function o(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var n=new/*#__PURE__*/(function(){var t;function i(t,e,s,n){!function(t,i){if(!(t instanceof i))throw TypeError("Cannot call a class as a function")}(this,i),o(this,"P",0),o(this,"WzI",0),o(this,"vx",void 0),o(this,"vy",void 0),o(this,"ωx",void 0),o(this,"ωy",void 0),o(this,"ωz",void 0),o(this,"s",void 0),o(this,"φ",void 0),o(this,"sʹ",void 0),o(this,"φʹ",void 0),o(this,"history",[]),o(this,"iter",void 0),this.vx=t*Math.cos(e),this.vy=t*Math.sin(e),this.ωx=-n*Math.sin(e),this.ωy=n*Math.cos(e),this.ωz=s,this.updateSlipSpeedsAndAngles()}return t=[{key:"updateSlipSpeedsAndAngles",value:function(){this.s=Math.sqrt(Math.pow(this.vx+s.R*(this.ωy*s.Z3-this.ωz*s.o5),2)+Math.pow(-this.vy*s.Z3-s.R*this.ωx,2)),this.φ=Math.atan2(-this.vy*s.Z3-s.R*this.ωx,this.vx+s.R*(this.ωy*s.Z3-this.ωz*s.o5)),this.sʹ=Math.abs(this.vx-s.R*this.ωy),this.φʹ=this.vx-s.R*this.ωy>0?this.φ:Math.PI+this.φ}},{key:"compressionPhase",value:function(){for(var t=(1+s.ee)*s.M*this.vy/s.N;this.vy>0;)this.updateSingleStep(t)}},{key:"restitutionPhase",value:function(t){for(var i=(1+s.ee)*s.M*this.vy/s.N;this.WzI<t;)this.updateSingleStep(i)}},{key:"updateSingleStep",value:function(t){if(this.updateVelocity(t),this.updateAngularVelocity(t),this.updateWorkDone(t),this.history.push(function(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{},s=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.forEach(function(i){o(t,i,e[i])})}return t}({},this)),this.iter++>2e3)throw"Solution not found"}},{key:"updateVelocity",value:function(t){this.vx-=1/s.M*(s._m*Math.cos(this.φ)+s.oV*Math.cos(this.φʹ)*(s.Z3+s._m*Math.sin(this.φ)*s.o5))*t,this.vy-=1/s.M*(s.o5-s._m*s.Z3*Math.sin(this.φ)+s.oV*Math.sin(this.φʹ)*(s.Z3+s._m*Math.sin(this.φ)*s.o5))*t}},{key:"updateAngularVelocity",value:function(t){this.ωx+=-(5/(2*s.M*s.R))*(s._m*Math.sin(this.φ)+s.oV*Math.sin(this.φʹ)*(s.Z3+s._m*Math.sin(this.φ)*s.o5))*t,this.ωy+=-(5/(2*s.M*s.R))*(s._m*Math.cos(this.φ)*s.Z3-s.oV*Math.cos(this.φʹ)*(s.Z3+s._m*Math.sin(this.φ)*s.o5))*t,this.ωz+=5/(2*s.M*s.R)*(s._m*Math.cos(this.φ)*s.o5)*t}},{key:"updateWorkDone",value:function(t){var i=t/2*(this.vy+this.vy);this.WzI+=i}},{key:"solve",value:function(){this.compressionPhase();var t=(1-s.ee*s.ee)*this.WzI;this.restitutionPhase(t)}}],function(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}(i.prototype,t),i}())(2,Math.PI/4,3/s.R,4/s.R);try{n.solve()}catch(t){console.error(t)}function h(t){return"hsl(".concat(137.5*t%360,", ").concat(70,"%, ").concat(50,"%)")}function r(t,i,e,s){return{x:t,y:i,name:e,line:{color:s,width:1.3},mode:"lines",type:"scatter"}}var a=function(t){return n.history.map(t)},c=a(function(t){return t.P}).map(function(t,i){return i}),l=[r(c,a(function(t){return t.s}),"s",h(0)),r(c,a(function(t){return t.φ}),"φ",h(1)),r(c,a(function(t){return t.sʹ}),"s'",h(2)),r(c,a(function(t){return t.φʹ}),"φʹ",h(3))];window.Plotly.newPlot("mathaven-div",l,{legend:{font:{color:"#4D5663"},bgcolor:"#e5e6F9"},xaxis:{title:"impulse",tickfont:{color:"#4D5663"},gridcolor:"#E1E5ED",titlefont:{color:"#4D5663"},zerolinecolor:"#E1E5ED"},yaxis:{title:"value",tickfont:{color:"#4D5663"},zeroline:!1,gridcolor:"#E1E5ED",titlefont:{color:"#4D5663"},zerolinecolor:"#E1E5ED"},plot_bgcolor:"#F5F6F9",paper_bgcolor:"#F2F6F9"},{responsive:!0,showLink:!0,plotlyServerURL:"https://chart-studio.plotly.com"})},"./src/model/physics/claude/constants.ts":(t,i,e)=>{e.d(i,{Hm:()=>a,M:()=>s,N:()=>v,R:()=>o,Z3:()=>c,_m:()=>r,ee:()=>n,o5:()=>u,oV:()=>h,ye:()=>l});var s=.1406,o=.02625,n=.98,h=.212,r=.14,a=.4,c=.4,l=Math.sqrt(21)/5,u=l,v=1e3}},t=>{t(t.s="./src/mathaven.ts")}]);