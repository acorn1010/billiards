"use strict";(self.webpackChunkbilliards=self.webpackChunkbilliards||[]).push([[893],{"./src/mathaven.ts":(t,i,e)=>{var s=e("./src/model/physics/claude/geminipro.ts");console.log("Calling");var a=new s.F(2,Math.PI/4,114.28571428571429,152.38095238095238);window.plotlyDiv("a",a)},"./src/model/physics/claude/geminipro.ts":(t,i,e)=>{e.d(i,{F:()=>h});var s=Math.sqrt(21)/5;function a(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var h=/*#__PURE__*/function(){var t;function i(t,e,s,h){!function(t,i){if(!(t instanceof i))throw TypeError("Cannot call a class as a function")}(this,i),a(this,"state",void 0),a(this,"plot",{p:[],s:[],phi:[]}),a(this,"iter",0),console.log(t*Math.sin(e)),this.setInitialConditions(t,e,s,h)}return t=[{key:"setInitialConditions",value:function(t,i,e,s){this.state={P:0,WzI:0,xG_dot:t*Math.cos(i),yG_dot:t*Math.sin(i),zG_dot:0,θx_dot:-e*Math.sin(i),θy_dot:e*Math.cos(i),θz_dot:s,s:this.calculateInitialSlipSpeedI(t,i,e,s),phi:this.calculateInitialSlipAngleI(t,i,e,s),sPrime:this.calculateInitialSlipSpeedC(t,e),phiPrime:this.calculateInitialSlipAngleC(t,i,e)},console.log(JSON.stringify(this.state))}},{key:"calculateInitialSlipSpeedI",value:function(t,i,e,a){var h=t*Math.cos(i)+.02625*(e*Math.cos(i)*.4-a*s),n=-t*Math.sin(i)*.4-.02625*e*Math.sin(i);return Math.sqrt(h*h+n*n)}},{key:"calculateInitialSlipSpeedC",value:function(t,i){return Math.abs(t-.02625*i)}},{key:"calculateInitialSlipAngleI",value:function(t,i,e,a){return Math.atan2(-t*Math.sin(i)*.4-.02625*e*Math.sin(i),t*Math.cos(i)+.02625*(e*Math.cos(i)*.4-a*s))}},{key:"calculateInitialSlipAngleC",value:function(t,i,e){return t-.02625*e>0?i:Math.PI+i}},{key:"compressionPhase",value:function(){var t=.278388*this.state.yG_dot/1e3;for(console.log("deltaP"+t);this.state.yG_dot>0;)this.updateSingleStep(t);return this.state}},{key:"restitutionPhase",value:function(t){for(var i=.278388*this.state.yG_dot/1e3;this.state.WzI<t;)this.updateSingleStep(i);return this.state}},{key:"updateSingleStep",value:function(t){if(this.updateVelocities(t),this.updateAngularVelocities(t),this.updateSlipVelocities(),this.updateWorkDone(t),this.state.P+=t,this.iter%1e3==0&&(this.plot.p.push(this.state.P),this.plot.s.push(this.state.phiPrime),this.plot.phi.push(this.state.phi)),this.iter++>5e4)throw console.log(this.state),"Solution not found"}},{key:"updateVelocities",value:function(t){this.state.xG_dot-=7.112375533428165*(.14*Math.cos(this.state.phi)+.212*Math.cos(this.state.phiPrime)*(.4+.14*Math.sin(this.state.phi)*s))*t,this.state.yG_dot-=7.112375533428165*(s-.14*.4*Math.sin(this.state.phi)+.212*Math.sin(this.state.phiPrime)*(.4+.14*Math.sin(this.state.phi)*s))*t}},{key:"updateAngularVelocities",value:function(t){this.state.θx_dot-=5/.0073815*(.14*Math.sin(this.state.phi)+.212*Math.sin(this.state.phiPrime)*(.4+.14*Math.sin(this.state.phi)*s))*t,this.state.θy_dot-=5/.0073815*(.14*Math.cos(this.state.phi)*.4-.212*Math.cos(this.state.phiPrime)*(.4+.14*Math.sin(this.state.phi)*s))*t,this.state.θz_dot+=5/.0073815*(.14*Math.cos(this.state.phi)*s)*t}},{key:"updateSlipVelocities",value:function(){var t=this.state.xG_dot+.0105*this.state.θy_dot-.02625*this.state.θz_dot*s,i=-(.4*this.state.yG_dot)+this.state.zG_dot*s+.02625*this.state.θx_dot;this.state.s=Math.sqrt(t*t+i*i),this.state.phi=Math.atan2(i,t);var e=this.state.xG_dot-.02625*this.state.θy_dot,a=this.state.yG_dot+.02625*this.state.θx_dot;this.state.sPrime=Math.sqrt(e*e+a*a),this.state.phiPrime=Math.atan2(a,e)}},{key:"updateWorkDone",value:function(t){var i=-this.state.yG_dot*s-.4*this.state.zG_dot;this.state.WzI+=t/2*i*2}},{key:"solve",value:function(){var t=this.compressionPhase(),i=.8*t.WzI;return console.log("WzI",t.WzI),console.log("Target work rebound: ",i),this.restitutionPhase(i)}}],function(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}(i.prototype,t),i}()}},t=>{t(t.s="./src/mathaven.ts")}]);